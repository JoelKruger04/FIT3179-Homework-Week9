{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",

  "vconcat": [
    {
      "width": 475,
      "height": 150,
      "title": {"text": "Public Transport Usage Over Time", "fontSize": 18}
      ,
      "data": {
        "url": "Trips.csv",
        "format": {
          "type": "csv"
        }
      },
      "transform": [
        {
          "filter": {
            "field": "Month",
            "equal": 6
          }
        },
        {
          "fold": [
            "Train",
            "Tram",
            "Bus"
          ],
          "as": ["Transport Type", "Value"]
        }
      ],
      "layer": [
        {
          "mark": "line",

          "encoding": {
            "x": {
              "field": "Year",
              "type": "ordinal",
              "title": ""
            },
            "y": {
              "field": "Value",
              "type": "quantitative",
              "title": "Number of Monthly Passengers"
            },
            "color": {
              "field": "Transport Type",
              "type": "nominal",
              "title": "Transport Type"
            }
          }
        },
        {
          "mark": "circle",

          "encoding": {
            "x": {
              "field": "Year",
              "type": "ordinal",
              "title": ""
            },
            "y": {
              "field": "Value",
              "type": "quantitative",
              "title": "Number of Monthly Passengers"
            },
            "color": {
              "field": "Transport Type",
              "type": "nominal",
              "title": "Transport Type"
            },
            "size": {
              "value": 200
            },
            "tooltip": [
              {
                "field": "Transport Type",
                "type": "nominal",
                "title": "Transport Type"
              },
              {
                "field": "Value",
                "type": "quantitative",
                "title": "Monthly Passengers",
                "format": ".3s"
              }
            ]
          }
        },
        {
          "mark": {
            "type": "text",
            "align": "left",
            "baseline": "top",
            "dx": 150,
            "dy": 3,
            "fontStyle": "normal",
            "fontWeight": "normal",
            "fontSize": 16,
            "lineBreak": "  ",
            "color": "grey"
          },
          "encoding": {
            "x": { "value": 0 },
            "y": { "value": 0 },
            "text": { "value": "Fall in PTV usage during   COVID has not recovered" }
          }
        }
      ]
    },
    {
      "data": {
        "url": "melbpop.csv",
        "format": {
          "type": "csv"
        }
      },
      "width": 475,
      "height": 100,
      "layer": [
        {
          "mark": "line",

          "encoding": {
            "x": {
              "field": "Year",
              "type": "ordinal",
              "title": "Year"
            },
            "y": {
              "field": "Population",
              "type": "quantitative",
              "title": "Population"
            }
          }
        },
        {
          "mark": "circle",

          "encoding": {
            "x": {
              "field": "Year",
              "type": "ordinal",
              "title": "Year"
            },
            "y": {
              "field": "Population",
              "type": "quantitative",
              "title": "Population"
            },
            "size": {
              "value": 200
            },
            "tooltip": [
              {
                "field": "Year",
                "type": "quantitative"
              },
              {
                "field": "Population",
                "type": "quantitative",
                "title": "Population of Melbourne",
                "format": ".3s"
              }
            ]
          }
        }
      ]
    }
  ]
}
